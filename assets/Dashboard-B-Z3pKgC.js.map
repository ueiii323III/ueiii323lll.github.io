{"version":3,"file":"Dashboard-B-Z3pKgC.js","sources":["../../src/views/admin/Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <div class=\"dashboard-header\">\r\n      <h2>仪表盘</h2>\r\n      <p class=\"dashboard-subtitle\">网站运营数据总览</p>\r\n    </div>\r\n    \r\n    <!-- 统计卡片 -->\r\n    <div class=\"stats-grid\">\r\n      <t-card class=\"stat-card\" v-for=\"stat in stats\" :key=\"stat.key\">\r\n        <div class=\"stat-content\">\r\n          <div class=\"stat-icon\" :style=\"{ backgroundColor: stat.color }\">\r\n            <t-icon :name=\"stat.icon\" size=\"24px\" />\r\n          </div>\r\n          <div class=\"stat-info\">\r\n            <h3 class=\"stat-value\">{{ stat.value }}</h3>\r\n            <p class=\"stat-label\">{{ stat.label }}</p>\r\n          </div>\r\n        </div>\r\n      </t-card>\r\n    </div>\r\n    \r\n    <!-- 快捷操作 -->\r\n    <t-card title=\"快捷操作\" class=\"quick-actions\">\r\n      <div class=\"actions-grid\">\r\n        <t-button\r\n          v-for=\"action in quickActions\"\r\n          :key=\"action.key\"\r\n          :theme=\"action.theme\"\r\n          :variant=\"action.variant\"\r\n          @click=\"action.handler\"\r\n          class=\"action-btn\"\r\n        >\r\n          <t-icon :name=\"action.icon\" />\r\n          {{ action.label }}\r\n        </t-button>\r\n      </div>\r\n    </t-card>\r\n    \r\n    <!-- 最近更新 -->\r\n    <div class=\"dashboard-grid\">\r\n      <t-card title=\"最新作品\" class=\"recent-works\">\r\n        <div class=\"work-list\">\r\n          <div\r\n            v-for=\"work in recentWorks\"\r\n            :key=\"work.id\"\r\n            class=\"work-item\"\r\n          >\r\n            <img :src=\"work.thumbnail\" :alt=\"work.title\" class=\"work-thumbnail\" />\r\n            <div class=\"work-info\">\r\n              <h4 class=\"work-title\">{{ work.title }}</h4>\r\n              <p class=\"work-category\">{{ getCategoryName(work.category) }}</p>\r\n              <span class=\"work-date\" :class=\"{ published: work.isPublished }\">\r\n                {{ formatDate(work.updatedAt) }}\r\n              </span>\r\n            </div>\r\n            <div class=\"work-actions\">\r\n              <t-button theme=\"default\" variant=\"text\" size=\"small\">\r\n                <t-icon name=\"edit\" />\r\n              </t-button>\r\n              <t-button theme=\"default\" variant=\"text\" size=\"small\">\r\n                <t-icon name=\"browse\" />\r\n              </t-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </t-card>\r\n      \r\n      <t-card title=\"系统信息\" class=\"system-info\">\r\n        <div class=\"info-list\">\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">网站版本</span>\r\n            <span class=\"info-value\">v1.0.0</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">上次更新</span>\r\n            <span class=\"info-value\">{{ formatDate(new Date().toISOString()) }}</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"info-label\">存储空间</span>\r\n            <span class=\"info-value\">2.3 MB / 100 MB</span>\r\n          </div>\r\n        </div>\r\n      </t-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useWorksStore } from '@/stores/works'\r\nimport { useSettingsStore } from '@/stores/settings'\r\nimport type { WorkCategory } from '@/types/admin'\r\n\r\nconst router = useRouter()\r\nconst worksStore = useWorksStore()\r\nconst settingsStore = useSettingsStore()\r\n\r\n// 统计数据\r\nconst stats = computed(() => [\r\n  {\r\n    key: 'totalWorks',\r\n    label: '总作品数',\r\n    value: worksStore.totalWorks,\r\n    icon: 'image',\r\n    color: '#1890ff'\r\n  },\r\n  {\r\n    key: 'publishedWorks',\r\n    label: '已发布',\r\n    value: worksStore.publishedCount,\r\n    icon: 'check-circle',\r\n    color: '#52c41a'\r\n  },\r\n  {\r\n    key: 'categories',\r\n    label: '作品分类',\r\n    value: 4,\r\n    icon: 'layers',\r\n    color: '#722ed1'\r\n  }\r\n])\r\n\r\n// 快捷操作\r\nconst quickActions = [\r\n  {\r\n    key: 'addWork',\r\n    label: '添加作品',\r\n    icon: 'add',\r\n    theme: 'primary',\r\n    variant: 'base',\r\n    handler: () => router.push('/admin/works/create')\r\n  },\r\n  {\r\n    key: 'manageWorks',\r\n    label: '管理作品',\r\n    icon: 'image',\r\n    theme: 'default',\r\n    variant: 'outline',\r\n    handler: () => router.push('/admin/works')\r\n  },\r\n  {\r\n    key: 'settings',\r\n    label: '网站设置',\r\n    icon: 'setting',\r\n    theme: 'default',\r\n    variant: 'outline',\r\n    handler: () => router.push('/admin/settings')\r\n  }\r\n]\r\n\r\n// 最近作品\r\nconst recentWorks = computed(() => {\r\n  return [...worksStore.works]\r\n    .sort((a, b) => new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime())\r\n    .slice(0, 5)\r\n})\r\n\r\n// 获取分类名称\r\nconst getCategoryName = (category: WorkCategory) => {\r\n  const names: Record<WorkCategory, string> = {\r\n    photography: '摄影',\r\n    painting: '绘画',\r\n    digital: '数字艺术',\r\n    cityscape: '城市印象'\r\n  }\r\n  return names[category] || category\r\n}\r\n\r\n// 格式化日期\r\nconst formatDate = (dateString: string) => {\r\n  const date = new Date(dateString)\r\n  const now = new Date()\r\n  const diffTime = now.getTime() - date.getTime()\r\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\r\n  \r\n  if (diffDays === 0) {\r\n    const diffHours = Math.floor(diffTime / (1000 * 60 * 60))\r\n    if (diffHours === 0) {\r\n      const diffMinutes = Math.floor(diffTime / (1000 * 60))\r\n      return diffMinutes <= 1 ? '刚刚' : `${diffMinutes}分钟前`\r\n    }\r\n    return `${diffHours}小时前`\r\n  } else if (diffDays === 1) {\r\n    return '昨天'\r\n  } else if (diffDays < 7) {\r\n    return `${diffDays}天前`\r\n  } else {\r\n    return date.toLocaleDateString('zh-CN')\r\n  }\r\n}\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  worksStore.initWorks()\r\n  settingsStore.initSettings()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variables.scss\";\r\n\r\n.dashboard {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.dashboard-header {\r\n  margin-bottom: $spacing-xl;\r\n  \r\n  h2 {\r\n    margin: 0 0 $spacing-xs 0;\r\n    color: $text-primary;\r\n    font-size: 2rem;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .dashboard-subtitle {\r\n    margin: 0;\r\n    color: $text-secondary;\r\n    font-size: 0.95rem;\r\n  }\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n  gap: $spacing-lg;\r\n  margin-bottom: $spacing-xl;\r\n}\r\n\r\n.stat-card {\r\n  .stat-content {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-md;\r\n  }\r\n  \r\n  .stat-icon {\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 12px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: $white;\r\n  }\r\n  \r\n  .stat-info {\r\n    flex: 1;\r\n    \r\n    .stat-value {\r\n      margin: 0 0 $spacing-xs 0;\r\n      font-size: 2rem;\r\n      font-weight: 700;\r\n      color: $text-primary;\r\n      line-height: 1;\r\n    }\r\n    \r\n    .stat-label {\r\n      margin: 0;\r\n      color: $text-secondary;\r\n      font-size: 0.9rem;\r\n    }\r\n  }\r\n}\r\n\r\n.quick-actions {\r\n  margin-bottom: $spacing-xl;\r\n  \r\n  .actions-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n    gap: $spacing-md;\r\n    \r\n    .action-btn {\r\n      height: 60px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      gap: $spacing-xs;\r\n    }\r\n  }\r\n}\r\n\r\n.dashboard-grid {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  gap: $spacing-xl;\r\n  \r\n  @media (max-width: $breakpoint-lg) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.recent-works {\r\n  .work-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: $spacing-md;\r\n  }\r\n  \r\n  .work-item {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-md;\r\n    padding: $spacing-md;\r\n    background: $background-color;\r\n    border-radius: 8px;\r\n    transition: all $transition-normal ease;\r\n    \r\n    &:hover {\r\n      background: mix($primary-color, $background-color, 5%);\r\n    }\r\n    \r\n    .work-thumbnail {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 8px;\r\n      object-fit: cover;\r\n    }\r\n    \r\n    .work-info {\r\n      flex: 1;\r\n      \r\n      .work-title {\r\n        margin: 0 0 $spacing-xs 0;\r\n        font-size: 0.95rem;\r\n        font-weight: 500;\r\n        color: $text-primary;\r\n        line-height: 1.3;\r\n      }\r\n      \r\n      .work-category {\r\n        margin: 0 0 $spacing-xs 0;\r\n        font-size: 0.8rem;\r\n        color: $text-secondary;\r\n      }\r\n      \r\n      .work-date {\r\n        font-size: 0.75rem;\r\n        color: $text-tertiary;\r\n        \r\n        &.published {\r\n          color: $success-color;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .work-actions {\r\n      display: flex;\r\n      gap: $spacing-xs;\r\n    }\r\n  }\r\n}\r\n\r\n.system-info {\r\n  .info-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: $spacing-lg;\r\n  }\r\n  \r\n  .info-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    \r\n    .info-label {\r\n      color: $text-secondary;\r\n      font-size: 0.9rem;\r\n    }\r\n    \r\n    .info-value {\r\n      color: $text-primary;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: $breakpoint-md) {\r\n  .stats-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .actions-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .work-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    text-align: left;\r\n  }\r\n}\r\n</style>"],"names":["router","useRouter","worksStore","useWorksStore","settingsStore","useSettingsStore","stats","computed","quickActions","recentWorks","a","b","getCategoryName","category","formatDate","dateString","date","diffTime","diffDays","diffHours","diffMinutes","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","stat","_createBlock","_component_t_card","_hoisted_3","_normalizeStyle","_createVNode","_component_t_icon","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","action","_component_t_button","_hoisted_8","_hoisted_9","work","_hoisted_11","_hoisted_12","_hoisted_13","_normalizeClass","_hoisted_14","_hoisted_15","_hoisted_16","_cache","_hoisted_17"],"mappings":"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"}