import{_ as x}from"./profile-IZFUpCG4.js";import{j as h,r as c,q as L,A as R,D as o,k as s,G as a,I as r,L as p,M as S,O as q,J as z}from"./vendor-Ci7_s8hB.js";import{u as B,_ as C}from"./index-Dfbevo4_.js";import{M as u}from"./tdesign-wfUGn-Om.js";const D={class:"login-container"},M={class:"login-card"},N={class:"login-footer"},A=h({__name:"Login",setup(I){const f=q(),_=B(),m=c(),n=c(!1),t=L({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名",type:"error"}],password:[{required:!0,message:"请输入密码",type:"error"}]},v=async()=>{var e;if(await((e=m.value)==null?void 0:e.validate())){n.value=!0;try{await _.login(t.username,t.password)?(u.success("登录成功"),f.push("/admin/dashboard")):u.error("用户名或密码错误")}catch{u.error("登录失败，请重试")}finally{n.value=!1}}};return(k,e)=>{const l=r("t-input"),i=r("t-form-item"),b=r("t-button"),w=r("t-form"),y=r("t-icon"),V=r("router-link");return z(),R("div",D,[o("div",M,[e[4]||(e[4]=o("div",{class:"login-header"},[o("div",{class:"logo-section"},[o("img",{src:x,alt:"Logo",class:"logo"}),o("h1",null,"管理后台"),o("p",null,"孙可馨的个人空间")])],-1)),s(w,{ref_key:"formRef",ref:m,data:t,rules:g,onSubmit:v,class:"login-form"},{default:a(()=>[s(i,{name:"username"},{default:a(()=>[s(l,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=d=>t.username=d),placeholder:"用户名",size:"large","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),s(i,{name:"password"},{default:a(()=>[s(l,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":"lock-on"},null,8,["modelValue"])]),_:1}),s(i,null,{default:a(()=>[s(b,{theme:"primary",type:"submit",size:"large",loading:n.value,block:""},{default:a(()=>[p(S(n.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"]),o("div",N,[e[3]||(e[3]=o("p",null,"默认账号：admin / admin123",-1)),s(V,{to:"/",class:"back-link"},{default:a(()=>[s(y,{name:"chevron-left"}),e[2]||(e[2]=p(" 返回网站首页 ",-1))]),_:1})])]),e[5]||(e[5]=o("div",{class:"background-decoration"},[o("div",{class:"decoration-item decoration-1"}),o("div",{class:"decoration-item decoration-2"}),o("div",{class:"decoration-item decoration-3"})],-1))])}}}),J=C(A,[["__scopeId","data-v-fcbf8ed2"]]);export{J as default};
//# sourceMappingURL=Login-C5Mpje-j.js.map
