import{j as C,c as b,o as x,A as u,D as t,k as a,F as f,H as h,G as l,I as p,K as M,X as W,M as r,L as B,O as z,B as T,J as c}from"./vendor-Ci7_s8hB.js";import{u as A}from"./works-jBBbHn6Y.js";import{u as N}from"./settings-DCgBpKBT.js";import{_ as I}from"./index-Dfbevo4_.js";const L={class:"dashboard"},V={class:"stats-grid"},$={class:"stat-content"},q={class:"stat-info"},F={class:"stat-value"},H={class:"stat-label"},O={class:"actions-grid"},j={class:"dashboard-grid"},E={class:"work-list"},G=["src","alt"],J={class:"work-info"},K={class:"work-title"},P={class:"work-category"},R={class:"work-actions"},X={class:"info-list"},Q={class:"info-item"},U={class:"info-value"},Y=C({__name:"Dashboard",setup(Z){const _=z(),m=A(),g=N(),y=b(()=>[{key:"totalWorks",label:"总作品数",value:m.totalWorks,icon:"image",color:"#1890ff"},{key:"publishedWorks",label:"已发布",value:m.publishedCount,icon:"check-circle",color:"#52c41a"},{key:"categories",label:"作品分类",value:4,icon:"layers",color:"#722ed1"}]),w=[{key:"addWork",label:"添加作品",icon:"add",theme:"primary",variant:"base",handler:()=>_.push("/admin/works/create")},{key:"manageWorks",label:"管理作品",icon:"image",theme:"default",variant:"outline",handler:()=>_.push("/admin/works")},{key:"settings",label:"网站设置",icon:"setting",theme:"default",variant:"outline",handler:()=>_.push("/admin/settings")}],D=b(()=>[...m.works].sort((i,s)=>new Date(s.updatedAt).getTime()-new Date(i.updatedAt).getTime()).slice(0,5)),S=i=>({photography:"摄影",painting:"绘画",digital:"数字艺术",cityscape:"城市印象"})[i]||i,v=i=>{const s=new Date(i),o=new Date().getTime()-s.getTime(),n=Math.floor(o/(1e3*60*60*24));if(n===0){const e=Math.floor(o/36e5);if(e===0){const k=Math.floor(o/6e4);return k<=1?"刚刚":`${k}分钟前`}return`${e}小时前`}else return n===1?"昨天":n<7?`${n}天前`:s.toLocaleDateString("zh-CN")};return x(()=>{m.initWorks(),g.initSettings()}),(i,s)=>{const d=p("t-icon"),o=p("t-card"),n=p("t-button");return c(),u("div",L,[s[3]||(s[3]=t("div",{class:"dashboard-header"},[t("h2",null,"仪表盘"),t("p",{class:"dashboard-subtitle"},"网站运营数据总览")],-1)),t("div",V,[(c(!0),u(f,null,h(y.value,e=>(c(),M(o,{class:"stat-card",key:e.key},{default:l(()=>[t("div",$,[t("div",{class:"stat-icon",style:W({backgroundColor:e.color})},[a(d,{name:e.icon,size:"24px"},null,8,["name"])],4),t("div",q,[t("h3",F,r(e.value),1),t("p",H,r(e.label),1)])])]),_:2},1024))),128))]),a(o,{title:"快捷操作",class:"quick-actions"},{default:l(()=>[t("div",O,[(c(),u(f,null,h(w,e=>a(n,{key:e.key,theme:e.theme,variant:e.variant,onClick:e.handler,class:"action-btn"},{default:l(()=>[a(d,{name:e.icon},null,8,["name"]),B(" "+r(e.label),1)]),_:2},1032,["theme","variant","onClick"])),64))])]),_:1}),t("div",j,[a(o,{title:"最新作品",class:"recent-works"},{default:l(()=>[t("div",E,[(c(!0),u(f,null,h(D.value,e=>(c(),u("div",{key:e.id,class:"work-item"},[t("img",{src:e.thumbnail,alt:e.title,class:"work-thumbnail"},null,8,G),t("div",J,[t("h4",K,r(e.title),1),t("p",P,r(S(e.category)),1),t("span",{class:T(["work-date",{published:e.isPublished}])},r(v(e.updatedAt)),3)]),t("div",R,[a(n,{theme:"default",variant:"text",size:"small"},{default:l(()=>[a(d,{name:"edit"})]),_:1}),a(n,{theme:"default",variant:"text",size:"small"},{default:l(()=>[a(d,{name:"browse"})]),_:1})])]))),128))])]),_:1}),a(o,{title:"系统信息",class:"system-info"},{default:l(()=>[t("div",X,[s[1]||(s[1]=t("div",{class:"info-item"},[t("span",{class:"info-label"},"网站版本"),t("span",{class:"info-value"},"v1.0.0")],-1)),t("div",Q,[s[0]||(s[0]=t("span",{class:"info-label"},"上次更新",-1)),t("span",U,r(v(new Date().toISOString())),1)]),s[2]||(s[2]=t("div",{class:"info-item"},[t("span",{class:"info-label"},"存储空间"),t("span",{class:"info-value"},"2.3 MB / 100 MB")],-1))])]),_:1})])])}}}),ot=I(Y,[["__scopeId","data-v-d56c833d"]]);export{ot as default};
//# sourceMappingURL=Dashboard-B-Z3pKgC.js.map
