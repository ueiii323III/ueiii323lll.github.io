{"version":3,"file":"works-jBBbHn6Y.js","sources":["../../src/assets/images/works/photography/campus-sunset.jpg","../../src/assets/images/works/photography/portrait.jpg","../../src/assets/images/works/painting/youth-memory.jpg","../../src/assets/images/works/painting/spring-prelude.jpg","../../src/assets/images/works/digital/digital-art-1.png","../../src/assets/images/works/digital/digital-art-2.png","../../src/assets/images/works/digital/digital-art-3.png","../../src/assets/images/works/photography/city-imp-1.jpg","../../src/assets/images/works/photography/city-imp-2.jpg","../../src/assets/images/works/photography/city-imp-3.jpg","../../src/stores/works.ts"],"sourcesContent":["export default \"__VITE_ASSET__DTsxOMoP__\"","export default \"__VITE_ASSET__6LCIZ$eR__\"","export default \"__VITE_ASSET__CMSYA1T0__\"","export default \"__VITE_ASSET__Ckgt$Vaq__\"","export default \"__VITE_ASSET__qyBgZOSY__\"","export default \"__VITE_ASSET__BlEgIdBB__\"","export default \"__VITE_ASSET__sNufP8yN__\"","export default \"__VITE_ASSET__CyryBjlS__\"","export default \"__VITE_ASSET__E2gqS9_r__\"","export default \"__VITE_ASSET__$TTRDAcM__\"","import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { Work, WorkCategory, PaginationParams, PaginatedResponse } from '@/types/admin'\n\n// 导入图片资源\nimport campusSunsetFull from '@/assets/images/works/photography/campus-sunset.jpg'\nimport portraitFull from '@/assets/images/works/photography/portrait.jpg'\nimport youthMemoryFull from '@/assets/images/works/painting/youth-memory.jpg'\nimport springPreludeFull from '@/assets/images/works/painting/spring-prelude.jpg'\nimport digitalArt1Full from '@/assets/images/works/digital/digital-art-1.png'\nimport digitalArt2Full from '@/assets/images/works/digital/digital-art-2.png'\nimport digitalArt3Full from '@/assets/images/works/digital/digital-art-3.png'\nimport cityImp1Full from '@/assets/images/works/photography/city-imp-1.jpg'\nimport cityImp2Full from '@/assets/images/works/photography/city-imp-2.jpg'\nimport cityImp3Full from '@/assets/images/works/photography/city-imp-3.jpg'\n\nexport const useWorksStore = defineStore('works', () => {\n  // 状态\n  const works = ref<Work[]>([])\n  const isLoading = ref(false)\n  const error = ref<string | null>(null)\n  \n  // 计算属性\n  const worksByCategory = computed(() => {\n    const grouped: Record<WorkCategory, Work[]> = {\n      photography: [],\n      painting: [],\n      digital: [],\n      cityscape: []\n    }\n    \n    works.value.forEach(work => {\n      grouped[work.category].push(work)\n    })\n    \n    return grouped\n  })\n  \n  const publishedWorks = computed(() => works.value.filter(work => work.isPublished))\n  const totalWorks = computed(() => works.value.length)\n  const publishedCount = computed(() => publishedWorks.value.length)\n  \n  // 初始化作品数据\n  const initWorks = () => {\n    // 强制重新初始化以确保最新的标签数据生效\n    localStorage.removeItem('works_data')\n    initDefaultWorks()\n  }\n  \n  // 初始化默认作品数据\n  const initDefaultWorks = () => {\n    const defaultWorks: Work[] = [\n      {\n        id: '1',\n        title: '夕阳下的校园',\n        description: '黄昏时分的校园美景，夕阳西下，金色的阳光洒满校园。',\n        category: 'photography',\n        thumbnail: campusSunsetFull,\n        fullImage: campusSunsetFull,\n        tags: ['校园', '夕阳', '摄影'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 1\n      },\n      {\n        id: '2',\n        title: '图书馆晨光',\n        description: '清晨的校园图书馆，阳光透过窗户洒满书架，营造宁静的学习氛围。',\n        category: 'photography',\n        thumbnail: portraitFull,\n        fullImage: portraitFull,\n        tags: ['校园', '图书馆', '晨光', '摄影'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 2\n      },\n      {\n        id: '3',\n        title: '青春记忆',\n        description: '绘画作品，记录青春时光的美好回忆。',\n        category: 'painting',\n        thumbnail: youthMemoryFull,\n        fullImage: youthMemoryFull,\n        tags: ['青春', '绘画', '回忆'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 3\n      },\n      {\n        id: '4',\n        title: '书香时光',\n        description: '水彩画作品，描绘图书馆内认真阅读的学子和满架图书，展现知识与青春的完美融合。',\n        category: 'painting',\n        thumbnail: springPreludeFull,\n        fullImage: springPreludeFull,\n        tags: ['图书', '图书馆', '绘画', '青春'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 4\n      },\n      {\n        id: '5',\n        title: '数字艺术作品1',\n        description: '数字艺术创作，探索技术与艺术的结合。',\n        category: 'digital',\n        thumbnail: digitalArt1Full,\n        fullImage: digitalArt1Full,\n        tags: ['数字艺术', '技术', '创意'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 5\n      },\n      {\n        id: '6',\n        title: '数字艺术作品2',\n        description: '数字艺术创作的第二部作品，进一步探索数字媒介的可能性。',\n        category: 'digital',\n        thumbnail: digitalArt2Full,\n        fullImage: digitalArt2Full,\n        tags: ['数字艺术', '技术', '创新'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 6\n      },\n      {\n        id: '7',\n        title: '数字艺术作品3',\n        description: '数字艺术系列作品的第三部，展现更加成熟的技术运用。',\n        category: 'digital',\n        thumbnail: digitalArt3Full,\n        fullImage: digitalArt3Full,\n        tags: ['数字艺术', '技术', '成熟'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 7\n      },\n      {\n        id: '8',\n        title: '城市印象1',\n        description: '城市摄影作品，记录城市的繁华与宁静。',\n        category: 'cityscape',\n        thumbnail: cityImp1Full,\n        fullImage: cityImp1Full,\n        tags: ['城市', '摄影', '印象'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 8\n      },\n      {\n        id: '9',\n        title: '城市印象2',\n        description: '城市摄影系列第二部，展现不同的城市面貌。',\n        category: 'cityscape',\n        thumbnail: cityImp2Full,\n        fullImage: cityImp2Full,\n        tags: ['城市', '摄影', '风貌'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 9\n      },\n      {\n        id: '10',\n        title: '城市印象3',\n        description: '城市摄影系列完结篇，记录城市的多面性。',\n        category: 'cityscape',\n        thumbnail: cityImp3Full,\n        fullImage: cityImp3Full,\n        tags: ['城市', '摄影', '多元'],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        isPublished: true,\n        order: 10\n      }\n    ]\n    \n    works.value = defaultWorks\n    saveWorks()\n  }\n  \n  // 保存到 localStorage\n  const saveWorks = () => {\n    localStorage.setItem('works_data', JSON.stringify(works.value))\n  }\n  \n  // 获取分页作品\n  const getPaginatedWorks = (params: PaginationParams): PaginatedResponse<Work> => {\n    let filteredWorks = [...works.value]\n    \n    // 搜索过滤\n    if (params.search) {\n      const searchLower = params.search.toLowerCase()\n      filteredWorks = filteredWorks.filter(work => \n        work.title.toLowerCase().includes(searchLower) ||\n        work.description.toLowerCase().includes(searchLower) ||\n        work.tags.some(tag => tag.toLowerCase().includes(searchLower))\n      )\n    }\n    \n    // 分类过滤\n    if (params.category) {\n      filteredWorks = filteredWorks.filter(work => work.category === params.category)\n    }\n    \n    // 发布状态过滤\n    if (params.published !== undefined) {\n      filteredWorks = filteredWorks.filter(work => work.isPublished === params.published)\n    }\n    \n    // 排序\n    filteredWorks.sort((a, b) => a.order - b.order)\n    \n    // 分页\n    const total = filteredWorks.length\n    const totalPages = Math.ceil(total / params.limit)\n    const startIndex = (params.page - 1) * params.limit\n    const items = filteredWorks.slice(startIndex, startIndex + params.limit)\n    \n    return {\n      items,\n      total,\n      page: params.page,\n      limit: params.limit,\n      totalPages\n    }\n  }\n  \n  // 添加作品\n  const addWork = (work: Omit<Work, 'id' | 'createdAt' | 'updatedAt'>) => {\n    const newWork: Work = {\n      ...work,\n      id: Date.now().toString(),\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n    \n    works.value.push(newWork)\n    saveWorks()\n    return newWork\n  }\n  \n  // 更新作品\n  const updateWork = (id: string, updates: Partial<Work>) => {\n    const index = works.value.findIndex(work => work.id === id)\n    if (index !== -1) {\n      works.value[index] = {\n        ...works.value[index],\n        ...updates,\n        updatedAt: new Date().toISOString()\n      }\n      saveWorks()\n      return works.value[index]\n    }\n    return null\n  }\n  \n  // 删除作品\n  const deleteWork = (id: string) => {\n    const index = works.value.findIndex(work => work.id === id)\n    if (index !== -1) {\n      works.value.splice(index, 1)\n      saveWorks()\n      return true\n    }\n    return false\n  }\n  \n  // 批量更新发布状态\n  const updatePublishStatus = (ids: string[], published: boolean) => {\n    ids.forEach(id => {\n      const work = works.value.find(w => w.id === id)\n      if (work) {\n        work.isPublished = published\n        work.updatedAt = new Date().toISOString()\n      }\n    })\n    saveWorks()\n  }\n  \n  // 重新排序\n  const reorderWorks = (category: WorkCategory, newOrder: string[]) => {\n    newOrder.forEach((id, index) => {\n      const work = works.value.find(w => w.id === id && w.category === category)\n      if (work) {\n        work.order = index + 1\n        work.updatedAt = new Date().toISOString()\n      }\n    })\n    saveWorks()\n  }\n  \n  return {\n    // 状态\n    works,\n    isLoading,\n    error,\n    \n    // 计算属性\n    worksByCategory,\n    publishedWorks,\n    totalWorks,\n    publishedCount,\n    \n    // 方法\n    initWorks,\n    getPaginatedWorks,\n    addWork,\n    updateWork,\n    deleteWork,\n    updatePublishStatus,\n    reorderWorks\n  }\n})"],"names":["campusSunsetFull","portraitFull","youthMemoryFull","springPreludeFull","digitalArt1Full","digitalArt2Full","digitalArt3Full","cityImp1Full","cityImp2Full","cityImp3Full","useWorksStore","defineStore","works","ref","isLoading","error","worksByCategory","computed","grouped","work","publishedWorks","totalWorks","publishedCount","initWorks","initDefaultWorks","defaultWorks","saveWorks","params","filteredWorks","searchLower","tag","a","b","total","totalPages","startIndex","newWork","id","updates","index","ids","published","w","category","newOrder"],"mappings":"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"}