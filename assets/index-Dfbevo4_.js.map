{"version":3,"mappings":"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","names":["useAuthStore","defineStore","user","ref","isAuthenticated","isLoading","isAdmin","computed","_a","canEdit","_b","savedUser","savedAuth","username","password","resolve","adminUser","error","userData","authStore","isScrolled","navItems","displayNavItems","handleScroll","toggleTheme","toggleMenu","onMounted","onUnmounted","_createElementBlock","_normalizeClass","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_unref","RouterLink","_cache","_hoisted_3","_Fragment","_renderList","item","_createBlock","$route","_createTextVNode","_toDisplayString","_hoisted_4","_component_t_button","_component_t_icon","_openBlock","_hoisted_5","_component_RouterLink","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","router","useRouter","route","useRoute","sidebarCollapsed","menuItems","currentPageTitle","toggleSidebar","previewSite","goToProfile","logout","_component_router_link","_withDirectives","_hoisted_10","_component_t_dropdown","_component_t_avatar","_c","_hoisted_11","_component_t_dropdown_menu","_component_t_dropdown_item","_hoisted_12","_component_router_view","isAdminRoute","AdminLayout","RouterView","AppHeader","AppFooter","requireAuth","_to","_from","next","createRouter","createWebHistory","__vitePreload","savedPosition","app","createApp","App","pinia","createPinia"],"ignoreList":[],"sources":["../../src/stores/auth.ts","../../src/components/AppHeader.vue","../../src/components/AppFooter.vue","../../src/layouts/AdminLayout.vue","../../src/App.vue","../../src/router/index.ts","../../src/main.ts"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\nimport type { AdminUser } from '@/types/admin'\r\n\r\nexport const useAuthStore = defineStore('auth', () => {\r\n  // 状态\r\n  const user = ref<AdminUser | null>(null)\r\n  const isAuthenticated = ref(false)\r\n  const isLoading = ref(false)\r\n  \r\n  // 计算属性\r\n  const isAdmin = computed(() => user.value?.role === 'admin')\r\n  const canEdit = computed(() => isAuthenticated.value && (user.value?.role === 'admin' || user.value?.role === 'editor'))\r\n  \r\n  // 初始化认证状态\r\n  const initAuth = () => {\r\n    const savedUser = localStorage.getItem('admin_user')\r\n    const savedAuth = localStorage.getItem('admin_authenticated')\r\n    \r\n    if (savedUser && savedAuth === 'true') {\r\n      user.value = JSON.parse(savedUser)\r\n      isAuthenticated.value = true\r\n    }\r\n  }\r\n  \r\n  // 登录\r\n  const login = async (username: string, password: string): Promise<boolean> => {\r\n    isLoading.value = true\r\n    \r\n    try {\r\n      // 模拟API调用 - 实际项目中应该调用真实的API\r\n      await new Promise(resolve => setTimeout(resolve, 1000))\r\n      \r\n      // 简单的用户验证（实际项目中应该在后端验证）\r\n      if (username === 'admin' && password === 'admin123') {\r\n        const adminUser: AdminUser = {\r\n          id: '1',\r\n          username: 'admin',\r\n          email: 'admin@sun-kexin.com',\r\n          avatar: '/src/assets/images/avatar/profile.jpg',\r\n          role: 'admin',\r\n          createdAt: new Date().toISOString(),\r\n          lastLogin: new Date().toISOString()\r\n        }\r\n        \r\n        user.value = adminUser\r\n        isAuthenticated.value = true\r\n        \r\n        // 保存到 localStorage\r\n        localStorage.setItem('admin_user', JSON.stringify(adminUser))\r\n        localStorage.setItem('admin_authenticated', 'true')\r\n        \r\n        return true\r\n      }\r\n      \r\n      return false\r\n    } catch (error) {\r\n      console.error('登录失败:', error)\r\n      return false\r\n    } finally {\r\n      isLoading.value = false\r\n    }\r\n  }\r\n  \r\n  // 登出\r\n  const logout = () => {\r\n    user.value = null\r\n    isAuthenticated.value = false\r\n    \r\n    // 清除 localStorage\r\n    localStorage.removeItem('admin_user')\r\n    localStorage.removeItem('admin_authenticated')\r\n  }\r\n  \r\n  // 更新用户信息\r\n  const updateUser = (userData: Partial<AdminUser>) => {\r\n    if (user.value) {\r\n      user.value = { ...user.value, ...userData }\r\n      localStorage.setItem('admin_user', JSON.stringify(user.value))\r\n    }\r\n  }\r\n  \r\n  return {\r\n    // 状态\r\n    user,\r\n    isAuthenticated,\r\n    isLoading,\r\n    \r\n    // 计算属性\r\n    isAdmin,\r\n    canEdit,\r\n    \r\n    // 方法\r\n    initAuth,\r\n    login,\r\n    logout,\r\n    updateUser\r\n  }\r\n})","<template>\r\n  <header class=\"header\" :class=\"{ scrolled: isScrolled }\">\r\n    <nav class=\"nav\">\r\n      <div class=\"nav-brand\">\r\n        <RouterLink to=\"/\" class=\"brand-link\">\r\n          <span class=\"brand-text\">孙可馨的个人空间</span>\r\n        </RouterLink>\r\n      </div>\r\n      \r\n      <div class=\"nav-menu\">\r\n        <RouterLink \r\n          v-for=\"item in displayNavItems\" \r\n          :key=\"item.path\"\r\n          :to=\"item.path\"\r\n          class=\"nav-item\"\r\n          :class=\"{ active: $route.path === item.path }\"\r\n        >\r\n          {{ item.name }}\r\n        </RouterLink>\r\n      </div>\r\n\r\n      <div class=\"nav-actions\">\r\n        <t-button theme=\"default\" variant=\"text\" @click=\"toggleTheme\">\r\n          <t-icon name=\"mode-dark\" />\r\n        </t-button>\r\n        <t-button theme=\"default\" variant=\"text\" @click=\"toggleMenu\">\r\n          <t-icon name=\"menu\" />\r\n        </t-button>\r\n      </div>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\nimport { RouterLink } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst authStore = useAuthStore()\r\nconst isScrolled = ref(false)\r\n\r\nconst navItems = [\r\n  { name: '首页', path: '/' },\r\n  { name: '作品展示', path: '/portfolio' },\r\n  { name: '关于我', path: '/about' }\r\n]\r\n\r\n// 根据登录状态显示不同的导航项\r\nconst displayNavItems = computed(() => {\r\n  if (authStore.isAuthenticated) {\r\n    return [\r\n      ...navItems,\r\n      { name: '管理后台', path: '/admin/dashboard' }\r\n    ]\r\n  }\r\n  return navItems\r\n})\r\n\r\nconst handleScroll = () => {\r\n  isScrolled.value = window.scrollY > 50\r\n}\r\n\r\nconst toggleTheme = () => {\r\n  // 主题切换逻辑\r\n  console.log('Toggle theme')\r\n}\r\n\r\nconst toggleMenu = () => {\r\n  // 移动端菜单切换\r\n  console.log('Toggle mobile menu')\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('scroll', handleScroll)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('scroll', handleScroll)\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n  transition: all $transition-normal ease;\r\n  \r\n  &.scrolled {\r\n    background: rgba(255, 255, 255, 0.95);\r\n    backdrop-filter: blur(10px);\r\n    box-shadow: $shadow-md;\r\n  }\r\n}\r\n\r\n.nav {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: $spacing-sm $spacing-lg;\r\n  \r\n  @media (max-width: $breakpoint-md) {\r\n    padding: $spacing-xs;\r\n  }\r\n}\r\n\r\n.nav-brand {\r\n  margin-left: $spacing-md;\r\n  \r\n  .brand-link {\r\n    text-decoration: none;\r\n    \r\n    .brand-text {\r\n      font-size: 1rem;\r\n      font-weight: 600;\r\n      color: $primary-color;\r\n      transition: color $transition-normal ease;\r\n    }\r\n    \r\n    &:hover .brand-text {\r\n      color: $accent-color;\r\n    }\r\n  }\r\n}\r\n\r\n.nav-menu {\r\n  display: flex;\r\n  gap: $spacing-lg;\r\n  \r\n  @media (max-width: $breakpoint-md) {\r\n    display: none;\r\n  }\r\n  \r\n  .nav-item {\r\n    text-decoration: none;\r\n    color: $text-primary;\r\n    font-weight: 500;\r\n    padding: $spacing-xs $spacing-sm;\r\n    border-radius: 6px;\r\n    transition: all $transition-normal ease;\r\n    \r\n    &:hover {\r\n      color: $primary-color;\r\n      background: rgba($primary-color, 0.1);\r\n    }\r\n    \r\n    &.active {\r\n      color: $primary-color;\r\n      background: rgba($primary-color, 0.15);\r\n    }\r\n  }\r\n}\r\n\r\n.nav-actions {\r\n  display: flex;\r\n  gap: $spacing-sm;\r\n}\r\n</style>","<template>\r\n  <footer class=\"footer\">\r\n    <div class=\"container\">\r\n      <div class=\"footer-content\">\r\n        <div class=\"footer-section\">\r\n          <h3 class=\"footer-title\">孙可馨的个人空间</h3>\r\n          <p class=\"footer-description\">\r\n            专注于绘画与摄影创作，记录生活点滴，分享艺术之美。\r\n          </p>\r\n        </div>\r\n        \r\n        <div class=\"footer-section\">\r\n          <h4 class=\"footer-subtitle\">快速链接</h4>\r\n          <ul class=\"footer-links\">\r\n            <li><RouterLink to=\"/\">首页</RouterLink></li>\r\n            <li><RouterLink to=\"/portfolio\">作品展示</RouterLink></li>\r\n            <li><RouterLink to=\"/timeline\">时间线</RouterLink></li>\r\n            <li><RouterLink to=\"/about\">关于我</RouterLink></li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"footer-section\">\r\n          <h4 class=\"footer-subtitle\">联系方式</h4>\r\n          <div class=\"footer-contact\">\r\n            <div class=\"contact-item\">\r\n              <t-icon name=\"mail\" />\r\n              <span>contact@sun-kexin.com</span>\r\n            </div>\r\n            <div class=\"contact-item\">\r\n              <t-icon name=\"location\" />\r\n              <span>武汉理工大学</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"footer-bottom\">\r\n        <p>&copy; 2024 孙可馨的个人空间. All rights reserved.</p>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n// Footer组件逻辑\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.footer {\r\n  background: linear-gradient(135deg, $primary-color, mix(black, $primary-color, 15%));\r\n  color: $white;\r\n  padding: $spacing-xl 0 $spacing-md;\r\n  margin-top: auto;\r\n}\r\n\r\n.footer-content {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: $spacing-lg;\r\n  margin-bottom: $spacing-lg;\r\n}\r\n\r\n.footer-section {\r\n  .footer-title {\r\n    color: $accent-color;\r\n    margin-bottom: $spacing-sm;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .footer-subtitle {\r\n    color: rgba($white, 0.9);\r\n    margin-bottom: $spacing-sm;\r\n    font-size: 1rem;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  .footer-description {\r\n    color: rgba($white, 0.8);\r\n    line-height: 1.6;\r\n  }\r\n}\r\n\r\n.footer-links {\r\n  list-style: none;\r\n  \r\n  li {\r\n    margin-bottom: $spacing-xs;\r\n    \r\n    a {\r\n      color: rgba($white, 0.8);\r\n      text-decoration: none;\r\n      transition: color $transition-normal ease;\r\n      \r\n      &:hover {\r\n        color: $accent-color;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.footer-contact {\r\n  .contact-item {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-xs;\r\n    margin-bottom: $spacing-xs;\r\n    color: rgba($white, 0.8);\r\n    \r\n    .t-icon {\r\n      color: $accent-color;\r\n    }\r\n  }\r\n}\r\n\r\n.footer-bottom {\r\n  border-top: 1px solid rgba($white, 0.2);\r\n  padding-top: $spacing-md;\r\n  text-align: center;\r\n  color: rgba($white, 0.7);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n@media (max-width: $breakpoint-md) {\r\n  .footer {\r\n    padding: $spacing-lg 0 $spacing-sm;\r\n  }\r\n  \r\n  .footer-content {\r\n    grid-template-columns: 1fr;\r\n    gap: $spacing-md;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"admin-layout\">\r\n    <!-- 侧边栏 -->\r\n    <aside class=\"sidebar\" :class=\"{ collapsed: sidebarCollapsed }\">\r\n      <div class=\"sidebar-header\">\r\n        <h2 class=\"admin-title\" v-show=\"!sidebarCollapsed\">\r\n          管理后台\r\n        </h2>\r\n        <t-button\r\n          theme=\"default\"\r\n          variant=\"text\"\r\n          @click=\"toggleSidebar\"\r\n          class=\"collapse-btn\"\r\n        >\r\n          <t-icon name=\"menu-fold\" v-if=\"!sidebarCollapsed\" />\r\n          <t-icon name=\"menu-unfold\" v-else />\r\n        </t-button>\r\n      </div>\r\n      \r\n      <nav class=\"sidebar-nav\">\r\n        <router-link\r\n          v-for=\"item in menuItems\"\r\n          :key=\"item.path\"\r\n          :to=\"item.path\"\r\n          class=\"nav-item\"\r\n          :class=\"{ active: $route.path === item.path }\"\r\n        >\r\n          <t-icon :name=\"item.icon\" />\r\n          <span v-show=\"!sidebarCollapsed\">{{ item.title }}</span>\r\n        </router-link>\r\n      </nav>\r\n      \r\n      <div class=\"sidebar-footer\">\r\n        <router-link to=\"/\" class=\"back-to-site\">\r\n          <t-icon name=\"home\" />\r\n          <span v-show=\"!sidebarCollapsed\">返回网站</span>\r\n        </router-link>\r\n      </div>\r\n    </aside>\r\n    \r\n    <!-- 主内容区 -->\r\n    <div class=\"main-content\">\r\n      <!-- 顶部导航栏 -->\r\n      <header class=\"top-header\">\r\n        <div class=\"header-left\">\r\n          <t-button\r\n            theme=\"default\"\r\n            variant=\"text\"\r\n            @click=\"toggleSidebar\"\r\n            class=\"mobile-menu-btn\"\r\n          >\r\n            <t-icon name=\"menu\" />\r\n          </t-button>\r\n          <h1 class=\"page-title\">{{ currentPageTitle }}</h1>\r\n        </div>\r\n        \r\n        <div class=\"header-right\">\r\n          <t-button theme=\"default\" variant=\"text\" @click=\"previewSite\">\r\n            <t-icon name=\"browse\" />\r\n            预览网站\r\n          </t-button>\r\n          \r\n          <t-dropdown trigger=\"click\">\r\n            <t-button theme=\"default\" variant=\"text\">\r\n              <t-avatar :image=\"user?.avatar\" size=\"small\">\r\n                {{ user?.username?.charAt(0)?.toUpperCase() }}\r\n              </t-avatar>\r\n              <span class=\"username\">{{ user?.username }}</span>\r\n              <t-icon name=\"chevron-down\" />\r\n            </t-button>\r\n            \r\n            <t-dropdown-menu>\r\n              <t-dropdown-item @click=\"goToProfile\">\r\n                <t-icon name=\"user\" />\r\n                个人资料\r\n              </t-dropdown-item>\r\n              <t-dropdown-item @click=\"logout\">\r\n                <t-icon name=\"logout\" />\r\n                退出登录\r\n              </t-dropdown-item>\r\n            </t-dropdown-menu>\r\n          </t-dropdown>\r\n        </div>\r\n      </header>\r\n      \r\n      <!-- 页面内容 -->\r\n      <main class=\"content-area\">\r\n        <router-view />\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst authStore = useAuthStore()\r\n\r\nconst sidebarCollapsed = ref(false)\r\n\r\nconst user = computed(() => authStore.user)\r\n\r\n// 菜单项配置\r\nconst menuItems = [\r\n  { path: '/admin/dashboard', title: '仪表盘', icon: 'dashboard' },\r\n  { path: '/admin/works', title: '作品管理', icon: 'image' },\r\n  { path: '/admin/settings', title: '网站设置', icon: 'setting' }\r\n]\r\n\r\n// 当前页面标题\r\nconst currentPageTitle = computed(() => {\r\n  const item = menuItems.find(item => item.path === route.path)\r\n  return item?.title || '管理后台'\r\n})\r\n\r\n// 切换侧边栏\r\nconst toggleSidebar = () => {\r\n  sidebarCollapsed.value = !sidebarCollapsed.value\r\n}\r\n\r\n// 预览网站\r\nconst previewSite = () => {\r\n  window.open('/', '_blank')\r\n}\r\n\r\n// 跳转到个人资料\r\nconst goToProfile = () => {\r\n  // 这里可以添加跳转到个人资料页面的逻辑\r\n  console.log('跳转到个人资料')\r\n}\r\n\r\n// 退出登录\r\nconst logout = () => {\r\n  authStore.logout()\r\n  router.push('/admin/login')\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variables.scss\";\r\n\r\n.admin-layout {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  background: $background-color;\r\n}\r\n\r\n.sidebar {\r\n  width: 250px;\r\n  background: linear-gradient(135deg, $primary-color, mix(black, $primary-color, 15%));\r\n  color: $white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: width $transition-normal ease;\r\n  \r\n  &.collapsed {\r\n    width: 64px;\r\n  }\r\n  \r\n  @media (max-width: $breakpoint-md) {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    transform: translateX(-100%);\r\n    \r\n    &.mobile-open {\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n}\r\n\r\n.sidebar-header {\r\n  padding: $spacing-lg;\r\n  border-bottom: 1px solid rgba($white, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  \r\n  .admin-title {\r\n    margin: 0;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .collapse-btn {\r\n    color: $white;\r\n    \r\n    &:hover {\r\n      background: rgba($white, 0.1);\r\n    }\r\n  }\r\n}\r\n\r\n.sidebar-nav {\r\n  flex: 1;\r\n  padding: $spacing-md 0;\r\n  \r\n  .nav-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: $spacing-md $spacing-lg;\r\n    color: rgba($white, 0.8);\r\n    text-decoration: none;\r\n    transition: all $transition-normal ease;\r\n    gap: $spacing-sm;\r\n    \r\n    &:hover {\r\n      background: rgba($white, 0.1);\r\n      color: $white;\r\n    }\r\n    \r\n    &.active {\r\n      background: rgba($white, 0.15);\r\n      color: $white;\r\n      border-left: 3px solid $accent-color;\r\n    }\r\n  }\r\n}\r\n\r\n.sidebar-footer {\r\n  padding: $spacing-md;\r\n  border-top: 1px solid rgba($white, 0.2);\r\n  \r\n  .back-to-site {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-sm;\r\n    padding: $spacing-sm;\r\n    color: rgba($white, 0.8);\r\n    text-decoration: none;\r\n    border-radius: 6px;\r\n    transition: all $transition-normal ease;\r\n    \r\n    &:hover {\r\n      background: rgba($white, 0.1);\r\n      color: $white;\r\n    }\r\n  }\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  @media (max-width: $breakpoint-md) {\r\n    margin-left: 0;\r\n  }\r\n}\r\n\r\n.top-header {\r\n  height: 64px;\r\n  background: $white;\r\n  border-bottom: 1px solid $border-color;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 $spacing-lg;\r\n  box-shadow: $shadow-sm;\r\n  \r\n  .header-left {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-md;\r\n    \r\n    .mobile-menu-btn {\r\n      @media (min-width: $breakpoint-md + 1) {\r\n        display: none;\r\n      }\r\n    }\r\n    \r\n    .page-title {\r\n      margin: 0;\r\n      font-size: 1.25rem;\r\n      color: $text-primary;\r\n    }\r\n  }\r\n  \r\n  .header-right {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-md;\r\n    \r\n    .username {\r\n      margin-left: $spacing-xs;\r\n    }\r\n  }\r\n}\r\n\r\n.content-area {\r\n  flex: 1;\r\n  padding: $spacing-lg;\r\n  overflow-y: auto;\r\n  \r\n  @media (max-width: $breakpoint-md) {\r\n    padding: $spacing-md;\r\n  }\r\n}\r\n\r\n// 移动端遮罩\r\n@media (max-width: $breakpoint-md) {\r\n  .mobile-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(black, 0.5);\r\n    z-index: 999;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div id=\"app\" class=\"app\">\r\n    <!-- 管理员布局 -->\r\n    <AdminLayout v-if=\"isAdminRoute\">\r\n      <RouterView />\r\n    </AdminLayout>\r\n    \r\n    <!-- 前台布局 -->\r\n    <template v-else>\r\n      <AppHeader />\r\n      <main class=\"main-content\">\r\n        <RouterView />\r\n      </main>\r\n      <AppFooter />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { RouterView } from 'vue-router'\r\nimport AppHeader from '@/components/AppHeader.vue'\r\nimport AppFooter from '@/components/AppFooter.vue'\r\nimport AdminLayout from '@/layouts/AdminLayout.vue'\r\n\r\nconst route = useRoute()\r\n\r\n// 判断是否为管理员路由\r\nconst isAdminRoute = computed(() => {\r\n  return route.meta?.layout === 'admin' || route.path.startsWith('/admin')\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variables.scss\";\r\n\r\n.app {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  padding-top: 80px; /* 为固定导航栏留出空间 */\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: $spacing-md;\r\n}\r\n</style>","import { createRouter, createWebHistory } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\n// 管理员路由守卫\r\nconst requireAuth = (_to: any, _from: any, next: any) => {\r\n  const authStore = useAuthStore()\r\n  \r\n  if (!authStore.isAuthenticated) {\r\n    next('/admin/login')\r\n  } else {\r\n    next()\r\n  }\r\n}\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(import.meta.env.BASE_URL),\r\n  routes: [\r\n    // 前台路由\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: () => import('@/views/Home.vue')\r\n    },\r\n    {\r\n      path: '/portfolio',\r\n      name: 'portfolio',\r\n      component: () => import('@/views/Portfolio.vue')\r\n    },\r\n    {\r\n      path: '/portfolio/:id',\r\n      name: 'portfolio-detail',\r\n      component: () => import('@/views/PortfolioDetail.vue')\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      component: () => import('@/views/About.vue')\r\n    },\r\n    \r\n    // 管理员路由\r\n    {\r\n      path: '/admin',\r\n      redirect: '/admin/dashboard'\r\n    },\r\n    {\r\n      path: '/admin/login',\r\n      name: 'admin-login',\r\n      component: () => import('@/views/admin/Login.vue'),\r\n      meta: { layout: 'admin' }\r\n    },\r\n    {\r\n      path: '/admin/dashboard',\r\n      name: 'admin-dashboard',\r\n      component: () => import('@/views/admin/Dashboard.vue'),\r\n      meta: { layout: 'admin', requiresAuth: true },\r\n      beforeEnter: requireAuth\r\n    },\r\n    {\r\n      path: '/admin/works',\r\n      name: 'admin-works',\r\n      component: () => import('@/views/admin/Works.vue'),\r\n      meta: { layout: 'admin', requiresAuth: true },\r\n      beforeEnter: requireAuth\r\n    },\r\n    {\r\n      path: '/admin/works/create',\r\n      name: 'admin-work-create',\r\n      component: () => import('@/views/admin/WorkEdit.vue'),\r\n      meta: { layout: 'admin', requiresAuth: true },\r\n      beforeEnter: requireAuth\r\n    },\r\n    {\r\n      path: '/admin/works/:id/edit',\r\n      name: 'admin-work-edit',\r\n      component: () => import('@/views/admin/WorkEdit.vue'),\r\n      meta: { layout: 'admin', requiresAuth: true },\r\n      beforeEnter: requireAuth\r\n    },\r\n    {\r\n      path: '/admin/settings',\r\n      name: 'admin-settings',\r\n      component: () => import('@/views/admin/Settings.vue'),\r\n      meta: { layout: 'admin', requiresAuth: true },\r\n      beforeEnter: requireAuth\r\n    }\r\n  ],\r\n  scrollBehavior(_to, _from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return { top: 0 }\r\n    }\r\n  }\r\n})\r\n\r\nexport default router","import { createApp } from 'vue'\r\nimport { createPinia } from 'pinia'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\n// 导入全局样式\r\nimport './styles/global.scss'\r\n\r\nconst app = createApp(App)\r\nconst pinia = createPinia()\r\n\r\napp.use(pinia)\r\napp.use(router)\r\n\r\napp.mount('#app')"],"file":"assets/index-Dfbevo4_.js"}