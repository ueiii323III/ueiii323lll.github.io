{"version":3,"file":"Settings-Yqjg-lId.js","sources":["../../src/utils/imageUpload.ts","../../src/components/ImageUpload.vue","../../src/views/admin/Settings.vue"],"sourcesContent":["/**\r\n * 图片上传工具类\r\n * 由于是前端应用，这里使用文件本地读取和模拟上传\r\n */\r\n\r\nexport interface UploadResult {\r\n  url: string\r\n  filename: string\r\n  size: number\r\n  type: string\r\n}\r\n\r\n/**\r\n * 处理文件上传（实际上是本地读取文件并转换为data URL）\r\n */\r\nexport function handleFileUpload(file: File): Promise<UploadResult> {\r\n  return new Promise((resolve, reject) => {\r\n    // 验证文件类型\r\n    if (!file.type.startsWith('image/')) {\r\n      reject(new Error('只能上传图片文件'))\r\n      return\r\n    }\r\n    \r\n    // 验证文件大小（限制为10MB）\r\n    const maxSize = 10 * 1024 * 1024\r\n    if (file.size > maxSize) {\r\n      reject(new Error('图片文件大小不能超过10MB'))\r\n      return\r\n    }\r\n    \r\n    const reader = new FileReader()\r\n    \r\n    reader.onload = (e) => {\r\n      try {\r\n        const result = e.target?.result as string\r\n        \r\n        if (result.length > 5 * 1024 * 1024) { // 5MB for data URL\r\n          reject(new Error('图片文件过大，请选择较小的图片'))\r\n          return\r\n        }\r\n        \r\n        resolve({\r\n          url: result,\r\n          filename: file.name,\r\n          size: file.size,\r\n          type: file.type\r\n        })\r\n      } catch (error) {\r\n        reject(new Error('图片处理失败'))\r\n      }\r\n    }\r\n    \r\n    reader.onerror = () => {\r\n      reject(new Error('图片读取失败'))\r\n    }\r\n    \r\n    reader.readAsDataURL(file)\r\n  })\r\n}\r\n\r\n/**\r\n * 从文件列表中处理第一个图片文件\r\n */\r\nexport function handleFileListUpload(files: FileList | null): Promise<UploadResult> {\r\n  if (!files || files.length === 0) {\r\n    return Promise.reject(new Error('没有选择文件'))\r\n  }\r\n  \r\n  return handleFileUpload(files[0])\r\n}\r\n\r\n/**\r\n * 生成唯一文件名\r\n */\r\nexport function generateUniqueFileName(originalName: string): string {\r\n  const timestamp = Date.now()\r\n  const random = Math.random().toString(36).substring(2, 8)\r\n  const extension = originalName.split('.').pop() || 'jpg'\r\n  return `${timestamp}_${random}.${extension}`\r\n}\r\n\r\n/**\r\n * 验证图片文件\r\n */\r\nexport function validateImageFile(file: File): { valid: boolean; error?: string } {\r\n  // 检查文件类型\r\n  const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\r\n  if (!allowedTypes.includes(file.type)) {\r\n    return { valid: false, error: '只支持 JPG、PNG、GIF、WebP 格式的图片' }\r\n  }\r\n  \r\n  // 检查文件大小（10MB）\r\n  const maxSize = 10 * 1024 * 1024\r\n  if (file.size > maxSize) {\r\n    return { valid: false, error: '图片文件大小不能超过10MB' }\r\n  }\r\n  \r\n  return { valid: true }\r\n}","<template>\r\n  <div class=\"image-upload-wrapper\">\r\n    <div class=\"upload-area\" @click=\"triggerFileInput\" @drop=\"handleDrop\" @dragover=\"handleDragOver\">\r\n      <img\r\n        v-if=\"modelValue\"\r\n        :src=\"modelValue\"\r\n        :alt=\"alt\"\r\n        class=\"preview-image\"\r\n      />\r\n      <div v-else class=\"upload-content\">\r\n        <t-icon name=\"upload\" :size=\"iconSize\" />\r\n        <p>{{ uploadText }}</p>\r\n        <p class=\"upload-tip\" v-if=\"tip\">{{ tip }}</p>\r\n      </div>\r\n      \r\n      <div v-if=\"isUploading\" class=\"upload-overlay\">\r\n        <t-loading text=\"上传中...\" />\r\n      </div>\r\n    </div>\r\n    \r\n    <input\r\n      ref=\"fileInput\"\r\n      type=\"file\"\r\n      :accept=\"accept\"\r\n      @change=\"handleFileChange\"\r\n      style=\"display: none\"\r\n    />\r\n    \r\n    <div class=\"image-actions\" v-if=\"modelValue && showActions\">\r\n      <t-button theme=\"default\" variant=\"outline\" size=\"small\" @click=\"removeImage\">\r\n        <t-icon name=\"delete\" />\r\n        删除\r\n      </t-button>\r\n      <t-button theme=\"default\" variant=\"text\" size=\"small\" @click=\"previewImage\">\r\n        <t-icon name=\"browse\" />\r\n        预览\r\n      </t-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { MessagePlugin } from 'tdesign-vue-next'\r\nimport { handleFileUpload, validateImageFile } from '@/utils/imageUpload'\r\n\r\ninterface Props {\r\n  modelValue: string\r\n  alt?: string\r\n  accept?: string\r\n  uploadText?: string\r\n  tip?: string\r\n  iconSize?: string\r\n  showActions?: boolean\r\n  maxSize?: number // MB\r\n}\r\n\r\ninterface Emits {\r\n  (e: 'update:modelValue', value: string): void\r\n  (e: 'success', result: any): void\r\n  (e: 'fail', error: Error): void\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  alt: '',\r\n  accept: 'image/*',\r\n  uploadText: '点击或拖拽上传图片',\r\n  tip: '',\r\n  iconSize: '48px',\r\n  showActions: true,\r\n  maxSize: 10\r\n})\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\nconst fileInput = ref<HTMLInputElement>()\r\nconst isUploading = ref(false)\r\n\r\n// 触发文件选择\r\nconst triggerFileInput = () => {\r\n  fileInput.value?.click()\r\n}\r\n\r\n// 处理文件选择\r\nconst handleFileChange = async (event: Event) => {\r\n  const target = event.target as HTMLInputElement\r\n  const files = target.files\r\n  \r\n  if (files && files.length > 0) {\r\n    await uploadFile(files[0])\r\n  }\r\n}\r\n\r\n// 处理拖拽\r\nconst handleDrop = async (event: DragEvent) => {\r\n  event.preventDefault()\r\n  event.stopPropagation()\r\n  \r\n  const files = event.dataTransfer?.files\r\n  if (files && files.length > 0) {\r\n    await uploadFile(files[0])\r\n  }\r\n}\r\n\r\n// 处理拖拽悬停\r\nconst handleDragOver = (event: DragEvent) => {\r\n  event.preventDefault()\r\n  event.stopPropagation()\r\n}\r\n\r\n// 上传文件\r\nconst uploadFile = async (file: File) => {\r\n  // 验证文件\r\n  const validation = validateImageFile(file)\r\n  if (!validation.valid) {\r\n    MessagePlugin.error(validation.error || '文件验证失败')\r\n    emit('fail', new Error(validation.error))\r\n    return\r\n  }\r\n  \r\n  isUploading.value = true\r\n  \r\n  try {\r\n    const result = await handleFileUpload(file)\r\n    \r\n    // 更新值\r\n    emit('update:modelValue', result.url)\r\n    emit('success', result)\r\n    \r\n    MessagePlugin.success('图片上传成功')\r\n  } catch (error) {\r\n    const errorMessage = error instanceof Error ? error.message : '上传失败'\r\n    MessagePlugin.error(errorMessage)\r\n    emit('fail', error instanceof Error ? error : new Error(errorMessage))\r\n  } finally {\r\n    isUploading.value = false\r\n  }\r\n}\r\n\r\n// 删除图片\r\nconst removeImage = () => {\r\n  emit('update:modelValue', '')\r\n  \r\n  // 清空文件输入\r\n  if (fileInput.value) {\r\n    fileInput.value.value = ''\r\n  }\r\n}\r\n\r\n// 预览图片\r\nconst previewImage = () => {\r\n  if (props.modelValue) {\r\n    window.open(props.modelValue, '_blank')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variables.scss\";\r\n\r\n.image-upload-wrapper {\r\n  .upload-area {\r\n    position: relative;\r\n    width: 200px;\r\n    height: 150px;\r\n    border: 2px dashed $border-color;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    transition: all $transition-normal ease;\r\n    \r\n    &:hover {\r\n      border-color: $primary-color;\r\n      background: mix($primary-color, $background-color, 2%);\r\n    }\r\n    \r\n    .preview-image {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n    \r\n    .upload-content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 100%;\r\n      color: $text-secondary;\r\n      text-align: center;\r\n      padding: $spacing-sm;\r\n      \r\n      p {\r\n        margin: $spacing-xs 0 0 0 0;\r\n        font-size: 0.9rem;\r\n      }\r\n      \r\n      .upload-tip {\r\n        font-size: 0.8rem;\r\n        color: $text-tertiary;\r\n      }\r\n    }\r\n    \r\n    .upload-overlay {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba($white, 0.9);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n  \r\n  .image-actions {\r\n    margin-top: $spacing-sm;\r\n    display: flex;\r\n    gap: $spacing-sm;\r\n  }\r\n}\r\n\r\n// 响应式设计\r\n@media (max-width: $breakpoint-md) {\r\n  .image-upload-wrapper .upload-area {\r\n    width: 100%;\r\n    height: 200px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"settings-management\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-content\">\r\n        <h2>网站设置</h2>\r\n        <p>配置网站基本信息、SEO和社交链接</p>\r\n      </div>\r\n      <div class=\"header-actions\">\r\n        <t-button theme=\"primary\" @click=\"saveSettings\" :loading=\"isSaving\">\r\n          <t-icon name=\"check\" />\r\n          保存设置\r\n        </t-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"settings-grid\">\r\n      <!-- 基本信息设置 -->\r\n      <t-card title=\"基本信息\" class=\"settings-card\">\r\n        <t-form\r\n          ref=\"basicFormRef\"\r\n          :data=\"settingsData\"\r\n          label-width=\"100px\"\r\n        >\r\n          <t-form-item label=\"网站标题\">\r\n            <t-input\r\n              v-model=\"settingsData.siteTitle\"\r\n              placeholder=\"请输入网站标题\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"网站描述\">\r\n            <t-textarea\r\n              v-model=\"settingsData.siteDescription\"\r\n              placeholder=\"请输入网站描述\"\r\n              :autosize=\"{ minRows: 2, maxRows: 4 }\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"作者姓名\">\r\n            <t-input\r\n              v-model=\"settingsData.authorName\"\r\n              placeholder=\"请输入作者姓名\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"作者邮箱\">\r\n            <t-input\r\n              v-model=\"settingsData.authorEmail\"\r\n              placeholder=\"请输入作者邮箱\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"个人简介\">\r\n            <t-textarea\r\n              v-model=\"settingsData.authorBio\"\r\n              placeholder=\"请输入个人简介\"\r\n              :autosize=\"{ minRows: 3, maxRows: 6 }\"\r\n            />\r\n          </t-form-item>\r\n        </t-form>\r\n      </t-card>\r\n      \r\n      <!-- 头像设置 -->\r\n      <t-card title=\"头像设置\" class=\"settings-card\">\r\n        <div class=\"avatar-settings\">\r\n          <div class=\"avatar-item\">\r\n            <h4>个人头像</h4>\r\n            <div class=\"avatar-upload\">\r\n              <img\r\n                :src=\"settingsData.profileImage\"\r\n                alt=\"个人头像\"\r\n                class=\"avatar-preview\"\r\n              />\r\n            <ImageUpload\r\n              v-model=\"settingsData.profileImage\"\r\n              alt=\"个人头像\"\r\n              upload-text=\"更换头像\"\r\n              :show-actions=\"false\"\r\n              @success=\"handleProfileUpload\"\r\n            />\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"avatar-item\">\r\n            <h4>封面图片</h4>\r\n            <div class=\"avatar-upload\">\r\n              <img\r\n                :src=\"settingsData.heroImage\"\r\n                alt=\"封面图片\"\r\n                class=\"hero-preview\"\r\n              />\r\n              <ImageUpload\r\n                v-model=\"settingsData.heroImage\"\r\n                alt=\"封面图片\"\r\n                upload-text=\"更换封面\"\r\n                :show-actions=\"false\"\r\n                @success=\"handleHeroUpload\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </t-card>\r\n      \r\n      <!-- 社交链接 -->\r\n      <t-card title=\"社交链接\" class=\"settings-card\">\r\n        <t-form\r\n          ref=\"socialFormRef\"\r\n          :data=\"settingsData.socialLinks\"\r\n          label-width=\"80px\"\r\n        >\r\n          <t-form-item label=\"GitHub\">\r\n            <t-input\r\n              v-model=\"settingsData.socialLinks.github\"\r\n              placeholder=\"https://github.com/username\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"邮箱\">\r\n            <t-input\r\n              v-model=\"settingsData.socialLinks.email\"\r\n              placeholder=\"contact@example.com\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"微信\">\r\n            <t-input\r\n              v-model=\"settingsData.socialLinks.wechat\"\r\n              placeholder=\"微信号或二维码链接\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"QQ\">\r\n            <t-input\r\n              v-model=\"settingsData.socialLinks.qq\"\r\n              placeholder=\"QQ号码\"\r\n            />\r\n          </t-form-item>\r\n        </t-form>\r\n      </t-card>\r\n      \r\n      <!-- SEO设置 -->\r\n      <t-card title=\"SEO设置\" class=\"settings-card\">\r\n        <t-form\r\n          ref=\"seoFormRef\"\r\n          :data=\"settingsData.seo\"\r\n          label-width=\"80px\"\r\n        >\r\n          <t-form-item label=\"关键词\">\r\n            <t-tag-input\r\n              v-model=\"settingsData.seo.keywords\"\r\n              placeholder=\"输入关键词后按回车添加\"\r\n            />\r\n          </t-form-item>\r\n          \r\n          <t-form-item label=\"SEO描述\">\r\n            <t-textarea\r\n              v-model=\"settingsData.seo.description\"\r\n              placeholder=\"请输入SEO描述\"\r\n              :autosize=\"{ minRows: 2, maxRows: 4 }\"\r\n            />\r\n          </t-form-item>\r\n        </t-form>\r\n      </t-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { MessagePlugin } from 'tdesign-vue-next'\r\nimport { useSettingsStore } from '@/stores/settings'\r\nimport ImageUpload from '@/components/ImageUpload.vue'\r\nimport type { SiteSettings } from '@/types/admin'\r\n\r\nconst settingsStore = useSettingsStore()\r\n\r\nconst isSaving = ref(false)\r\n\r\n\r\n// 设置数据\r\nconst settingsData = reactive<SiteSettings>({\r\n  siteTitle: '',\r\n  siteDescription: '',\r\n  authorName: '',\r\n  authorEmail: '',\r\n  authorBio: '',\r\n  profileImage: '',\r\n  heroImage: '',\r\n  socialLinks: {\r\n    github: '',\r\n    email: '',\r\n    wechat: '',\r\n    qq: ''\r\n  },\r\n  seo: {\r\n    keywords: [],\r\n    description: ''\r\n  }\r\n})\r\n\r\n// 初始化设置数据\r\nconst initSettings = () => {\r\n  Object.assign(settingsData, settingsStore.siteSettings)\r\n}\r\n\r\n// 处理头像上传\r\nconst handleProfileUpload = (result: any) => {\r\n  console.log('头像上传成功:', result)\r\n  // 图片URL已经通过 v-model 自动更新\r\n  MessagePlugin.success('头像上传成功')\r\n}\r\n\r\n// 处理封面上传\r\nconst handleHeroUpload = (result: any) => {\r\n  console.log('封面上传成功:', result)\r\n  // 图片URL已经通过 v-model 自动更新\r\n  MessagePlugin.success('封面上传成功')\r\n}\r\n\r\n// 保存设置\r\nconst saveSettings = async () => {\r\n  isSaving.value = true\r\n  \r\n  try {\r\n    // 更新所有设置\r\n    settingsStore.updateSiteSettings(settingsData)\r\n    settingsStore.updateSocialLinks(settingsData.socialLinks)\r\n    settingsStore.updateSeoSettings(settingsData.seo)\r\n    \r\n    MessagePlugin.success('设置保存成功')\r\n  } catch (error) {\r\n    MessagePlugin.error('保存失败，请重试')\r\n  } finally {\r\n    isSaving.value = false\r\n  }\r\n}\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  settingsStore.initSettings()\r\n  initSettings()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variables.scss\";\r\n\r\n.settings-management {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: $spacing-xl;\r\n  \r\n  .header-content {\r\n    h2 {\r\n      margin: 0 0 $spacing-xs 0;\r\n      color: $text-primary;\r\n      font-size: 1.8rem;\r\n      font-weight: 600;\r\n    }\r\n    \r\n    p {\r\n      margin: 0;\r\n      color: $text-secondary;\r\n    }\r\n  }\r\n}\r\n\r\n.settings-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: $spacing-xl;\r\n  \r\n  @media (max-width: $breakpoint-lg) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.settings-card {\r\n  .t-card__body {\r\n    padding: $spacing-lg;\r\n  }\r\n}\r\n\r\n.avatar-settings {\r\n  .avatar-item {\r\n    margin-bottom: $spacing-xl;\r\n    \r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n    \r\n    h4 {\r\n      margin: 0 0 $spacing-md 0;\r\n      color: $text-primary;\r\n      font-size: 1rem;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n  \r\n  .avatar-upload {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: $spacing-lg;\r\n    \r\n    .avatar-preview {\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 50%;\r\n      object-fit: cover;\r\n      border: 2px solid $border-color;\r\n    }\r\n    \r\n    .hero-preview {\r\n      width: 120px;\r\n      height: 80px;\r\n      border-radius: 8px;\r\n      object-fit: cover;\r\n      border: 2px solid $border-color;\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: $breakpoint-md) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    gap: $spacing-md;\r\n  }\r\n  \r\n  .avatar-upload {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: $spacing-md;\r\n  }\r\n}\r\n</style>"],"names":["handleFileUpload","file","resolve","reject","maxSize","reader","e","result","_a","validateImageFile","props","__props","emit","__emit","fileInput","ref","isUploading","triggerFileInput","handleFileChange","event","files","uploadFile","handleDrop","handleDragOver","validation","MessagePlugin","error","errorMessage","removeImage","previewImage","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_3","_createVNode","_component_t_icon","_hoisted_4","_toDisplayString","_hoisted_5","_component_t_loading","_hoisted_7","_component_t_button","settingsStore","useSettingsStore","isSaving","settingsData","reactive","initSettings","handleProfileUpload","handleHeroUpload","saveSettings","onMounted","_hoisted_2","_component_t_card","_component_t_form","_component_t_form_item","_component_t_input","_cache","$event","_component_t_textarea","_hoisted_6","ImageUpload","_hoisted_9","_hoisted_10","_component_t_tag_input"],"mappings":"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"}